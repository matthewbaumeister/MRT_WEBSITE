!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("rb_wixui.thunderbolt[Repeater_Responsive]",["react"],t):"object"==typeof exports?exports["rb_wixui.thunderbolt[Repeater_Responsive]"]=t(require("react")):e["rb_wixui.thunderbolt[Repeater_Responsive]"]=t(e.React)}("undefined"!=typeof self?self:this,function(e){return function(){var t={hOcr:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNextCell=void 0;t.getNextCell=(e,t,r,n)=>{const o=e.length-1,a=e[o].length-1,{row:s,column:i}=t[r],u={ArrowDown:[s+1,i],ArrowUp:[s-1,i],ArrowRight:[s,i+1],ArrowLeft:[s,i-1],Home:[0,0],End:[o,a]},[l,c]=u[n];return e[l]?.[c]}},q0Tf:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRepeaterCells=void 0;t.getRepeaterCells=(e,t)=>{const r=((e,t)=>{const r={};return e.forEach(e=>{const n=t.querySelector(`[id$="${e}"]`);n&&(r[n.offsetTop]||(r[n.offsetTop]=[]),r[n.offsetTop].push(n))}),r})(e,t),n=(e=>{const t=[];return Object.keys(e).map(e=>Number(e)).sort((e,t)=>e<t?-1:1).forEach((r,n)=>{t[n]=e[r]}),t.forEach(e=>{e.sort((e,t)=>e.offsetLeft<t.offsetLeft?-1:1)}),t})(r),o=(e=>{const t={};return e.forEach((e,r)=>{e.forEach((e,n)=>{t[e.id]={row:r,column:n}})}),t})(n);return{cellsMap:n,idIndexMap:o}}},R7rg:function(e,t,r){"use strict";t.Xn=t.AB=t.hd=void 0;var n=r("q0Tf");Object.defineProperty(t,"hd",{enumerable:!0,get:function(){return n.getRepeaterCells}});var o=r("hOcr");Object.defineProperty(t,"AB",{enumerable:!0,get:function(){return o.getNextCell}}),t.Xn=["ArrowDown","ArrowUp","ArrowLeft","ArrowRight","Home","End"]},"Xdf/":function(t){"use strict";t.exports=e},Fe5V:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return function(){"use strict";n.r(o),n.d(o,{components:function(){return N}});var e=n("Fe5V"),t=n.n(e),r=n("Xdf/"),a=n.n(r);function s(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=s(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}var i=function(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=s(e))&&(n&&(n+=" "),n+=t);return n},u=n("R7rg");const l="wixui-",c=(e,...t)=>{const r=[];return e&&r.push(`${l}${e}`),t.forEach(e=>{e&&(r.push(`${l}${e}`),r.push(e))}),r.join(" ")},f=13,d=27;function p(e){return t=>{t.keyCode===e&&(t.preventDefault(),t.stopPropagation(),t.currentTarget.click())}}p(32),p(f),p(d);const m=["aria-id","aria-metadata","aria-type"],v=(e,t)=>Object.entries(e).reduce((e,[r,n])=>(t.includes(r)||(e[r]=n),e),{}),b=({role:e,tabIndex:t,tabindex:r,...n}={})=>{const o=Object.entries(n).reduce((e,[t,r])=>({...e,[`aria-${t}`.toLowerCase()]:r}),{role:e,tabIndex:t??r});return Object.keys(o).forEach(e=>{void 0!==o[e]&&null!==o[e]||delete o[e]}),v(o,m)},h="responsive-container-overflow",y="responsive-container-content";var g="xpmKd_";const x=a().forwardRef((e,t)=>{let{children:r,className:n}=e;return a().createElement("div",{className:i(n,g),"data-testid":h,ref:t},r)}),w=(e,t)=>{let{containerLayoutClassName:n,overlowWrapperClassName:o,hasOverflow:s,hasScrollOverflow:u,shouldOmitWrapperLayers:l,children:c,role:f,label:d,extraRootClass:p="",ariaLive:m,ariaAttributes:v,tabIndex:h,tagName:g="div"}=e;const w=!l&&s;let C=-1;u&&void 0!==h&&(C=h);const E=w?C:void 0,O=(0,r.useCallback)(e=>w?a().createElement(x,{className:i(o,p)},e):e,[w,o,p]),R=s?n:i(n,p),_={ref:t,"data-testid":y,tabIndex:E,...f?{role:f}:{},...d?{"aria-label":d}:{},...m?{"aria-live":m}:{},...b(v)};return"multi-column-layouter"===g?(_.class=R,_.style={visibility:"hidden"}):_.className=R,O(l?a().createElement(a().Fragment,null,c()):a().createElement(g||"div",_,c()))};var C=a().forwardRef(w);var E={root:"repeater",repeaterItem:"repeater__item"};var O=e=>{const{id:n,responsiveContainerProps:o,keyboardNavigationEnabled:a,items:s,children:l,classes:f,className:d,customClassNames:p=[],ariaAttributes:m,observeChildListChange:v,useCustomElement:b}=e,h=r.useCallback(()=>s.map((e,t)=>r.createElement(r.Fragment,{key:e},l({parentType:"Repeater",scopeId:e,itemIndex:t}))),[l,s]),y=r.useRef(null),g=r.useRef(null),[x,w]=r.useState(0),[O,R]=r.useState([]),[_,j]=r.useState({});r.useLayoutEffect(()=>{if(y.current&&a){w(y.current.offsetWidth);const{cellsMap:e,idIndexMap:t}=(0,u.hd)(s,y.current);e.forEach((e,t)=>e.forEach((e,r)=>{e.setAttribute("tabindex",0===t&&0===r?"0":"-1")})),R(e),j(t)}},[a,s]);return r.useEffect(()=>{const e=o.shouldOmitWrapperLayers?y:g;v&&null!=e&&e.current&&v(n,e.current)},[]),r.createElement("div",t()({id:n},(e=>Object.entries(e).reduce((e,[t,r])=>(t.includes("data-")&&(e[t]=r),e),{}))(e),{className:i(f.bg,d,c(E.root,...p)),ref:y,onKeyDown:e=>{if(!a||!y.current)return;const t=e.target;let r=O,n=_;if(!(u.Xn.includes(e.key)&&"INPUT"!==t.tagName&&"SELECT"!==t.tagName)||!n[t.id])return;if(e.preventDefault(),y.current.offsetWidth!==x){const e=(0,u.hd)(s,y.current);r=e.cellsMap,n=e.idIndexMap,R(e.cellsMap),j(e.idIndexMap),w(y.current.offsetWidth)}const o=(0,u.AB)(r,n,t.id,e.key);null==o||o.focus()}}),r.createElement(C,t()({ref:g},o,{ariaAttributes:m,tagName:b?"multi-column-layouter":"div"}),h))},R={bg:"Mdue19"};const _=e=>e.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`);var j;const N={Repeater_Responsive:{component:e=>r.createElement(O,t()({},e,{classes:R})),controller:(j=e=>{let{mapperProps:t,stateValues:r}=e;return{...t,observeChildListChange:t.isMasterPage?r.observeChildListChangeMaster:r.observeChildListChange}},{useComponentProps:(e,t,r)=>{const n=(e=>({...e,updateStyles:t=>{const r=Object.entries(t).reduce((e,[t,r])=>{return{...e,[(n=t,n.startsWith("--")?t:_(t))]:void 0===r?null:r};var n},{});e.updateStyles(r)}}))(r);return j({mapperProps:e,stateValues:t,controllerUtils:n})}})}}}(),o}()});
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/rb_wixui.thunderbolt[Repeater_Responsive].d0b44985.bundle.min.js.map